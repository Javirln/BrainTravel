{% extends 'base.html' %}
{% block title %} Edit Profile {% endblock %}
{% block content %}
    {% load i18n %}
    <div class="container">
        <div class="row">
            <div class="col-xs-12 .col-sm-6 .col-md-8">
                <div class="well panel panel-default">
                    <h1 class="page-header">{% trans "Edit Trip" %}</h1>

                    <div class="panel-body">
                        <div class="row">
                            {% if create %}
                                <form class="form-horizontal" role="form" action="/trip/create/" method="post"
                                      data-toggle="validator">
                            {% else %}
                                <form class="form-horizontal" role="form" action="/trip/edit/{{ trip.id }}"
                                      method="post"
                                      data-toggle="validator">
                            {% endif %}

                            {% csrf_token %}
                            <!-- edit form column -->
                            <div class="col-md-5 col-sm-6 col-xs-8 personal-info">
                                <div class="form-group {% if form.visible_fields.0.errors %} has-error {% endif %} ">
                                    <label for="id_{{ form.visible_fields.0.html_name }}" class="control-label">
                                        {% trans "City" %}</label>
                                    <input class="form-control" id="id_city" name="city" type="text"
                                           value="{% if form.initial|length != 0 %}{{ form.initial.city }}{% else %}{{ form.data.city }}{% endif %}"
                                           required/>

                                    <div class="help-block with-errors">
                                        {{ form.visible_fields.0.errors }}
                                    </div>
                                </div>
                                <div class="form-group {% if form.visible_fields.1.errors %} has-error {% endif %} ">
                                    <label for="id_{{ form.visible_fields.1.html_name }}"
                                           class="control-label">{% trans "Country" %}</label>
                                    <input class="form-control" id="id_country" name="country" type="text"
                                           value="



                                                   {% if form.initial|length != 0 %}{{ form.initial.country }}{% else %}{{ form.data.country }}{% endif %}"
                                           required/>

                                    <div class="help-block with-errors">
                                        {{ form.visible_fields.1.errors }}
                                    </div>
                                </div>
                                <div class="form-group {% if form.visible_fields.2.errors %} has-error {% endif %}">
                                    <label for="id_{{ form.visible_fields.2.html_name }}"
                                           class="control-label">{% trans "Start Date" %}</label>
                                    {{ form.visible_fields.2 }}
                                    <div class="help-block with-errors">
                                        {{ form.visible_fields.2.errors }}
                                    </div>
                                </div>
                                {% for hidden in form.hidden_fields %}
                                    {{ hidden }}
                                {% endfor %}

                                <div class="form-group {% if form.visible_fields.3.errors %} has-error {% endif %}">
                                    <label for="id_{{ form.visible_fields.3.html_name }}"
                                           class="control-label">{% trans "End Date" %}</label>
                                    {{ form.visible_fields.3 }}
                                    <div class="help-block with-errors">
                                        {{ form.visible_fields.3.errors }}
                                    </div>
                                </div>
                                {% for hidden in form.hidden_fields %}
                                    {{ hidden }}
                                {% endfor %}

                                <div class="form-group {% if form.visible_fields.4.errors %} has-error {% endif %}">
                                    <label for="id_{{ form.visible_fields.4.html_name }}"
                                           class="control-label">{{ form.visible_fields.4.html_name }}</label>
                                    {{ form.visible_fields.4 }}
                                    <div class="help-block with-errors">
                                        {{ form.visible_fields.4.errors }}
                                    </div>
                                </div>
                                {% for hidden in form.hidden_fields %}
                                    {{ hidden }}
                                {% endfor %}

                                <div class="form-group">
                                    <input class="btn btn-primary" name="save" value="Publish Trip"
                                           type="submit">
                                    <span></span>
                                    <input class="btn btn-primary" name="save" value="Save draft"
                                           type="submit">
                                    <span></span>
                                    {% if not create %}
                                        <input class="btn btn-primary" name="delete" value="Delete Trip"
                                               type="submit">
                                    {% endif %}
                                    <span></span>
                                </div>
                            </div>
                            </form>
                        </div>
                        <!--/row-->
                    </div>
                    <!--/panel-body-->
                </div>
                <!--/panel-->
            </div>
            <!--/col-->
        </div>
        <!--/row-->
    </div>
    <!--/container-->
{% endblock %}