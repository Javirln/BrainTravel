{% extends 'base.html' %}
{% block title %} Edit Profile {% endblock %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col-xs-12 .col-sm-6 .col-md-8">
            <div class="well panel panel-default">
                <h1 class="page-header">Edit Profile</h1>
                <div class="panel-body">
                    <div class="row">
                        <form class="form-horizontal" role="form" action="/profile/edit/" method="post" data-toggle="validator"  enctype="multipart/form-data">
                            {% csrf_token %}
                            <!-- left column -->
                            <div class="col-md-4 col-sm-6 col-xs-8">
                                <div class="form-group {% if form.visible_fields.3.errors %} has-error {% endif %} ">
                                    <div class="text-center ">
                                        {% if traveller.photo == None %}
                                            <img src="/static/user_folder/default.jpg" alt="" class="center-block img-circle img-thumbnail img-responsive" width="200">
                                        {% else %}
                                            <img src="/static/user_folder/{{traveller.photo}}" alt="" class="center-block img-circle img-thumbnail img-responsive" width="200">
                                        {% endif %}
                                        <h6>Upload a different photo...</h6>
                                    </div>
                                    <label for="id_{{ form.visible_fields.3.html_name }}" class="control-label"></label>
                                    <div>
                                        {{ form.visible_fields.3 }}
                                    </div>
                                    <div class="help-block with-errors">
                                        {{ form.visible_fields.3.errors }}
                                    </div>
                                </div>
                            </div>
                            <!-- edit form column -->
                            <div class="col-md-5 col-sm-6 col-xs-8 personal-info">
                                    <div class="form-group {% if form.visible_fields.0.errors %} has-error {% endif %} ">
                                        <label for="id_{{ form.visible_fields.0.html_name }}" class="control-label">First name:</label>
                                        <input class="form-control" id="id_first_name" name="first_name" type="text" value="{% if form.initial|length != 0 %}{{ form.initial.first_name }}{% else %}{{ form.data.first_name }}{% endif %}" required/>
                                        <div class="help-block with-errors">
                                            {{ form.visible_fields.0.errors }}
                                        </div>
                                    </div>
                                    <div class="form-group {% if form.visible_fields.1.errors %} has-error {% endif %} ">
                                        <label for="id_{{ form.visible_fields.1.html_name }}" class="control-label">Last name:</label>
                                        <input class="form-control" id="id_last_name" name="last_name" type="text" value="{% if form.initial|length != 0 %}{{ form.initial.last_name }}{% else %}{{ form.data.last_name }}{% endif %}" required/>
                                        <div class="help-block with-errors">
                                            {{ form.visible_fields.1.errors }}
                                        </div>
                                    </div>
                                    <div class="form-group {% if form.visible_fields.2.errors %} has-error {% endif %}">
                                        <label for="id_{{ form.visible_fields.2.html_name }}" class="control-label">Genre:</label>
                                        {{ form.visible_fields.2 }}
                                        <div class="help-block with-errors">
                                            {{ form.visible_fields.2.errors }}
                                        </div>
                                    </div>
                                    {% for hidden in form.hidden_fields %}
                                        {{ hidden }}
                                    {% endfor %}
                                    <div class="form-group">
                                        <input class="btn btn-primary" value="Save Changes" type="submit">
                                        <span></span>
                                        <a href="/profile/{% if form.initial|length != 0 %}{{ form.initial.id }}{% else %}{{ form.data.id }}{% endif %}" class="btn btn-default">CANCEL</a>
                                    </div>
                            </div>
                        </form>
                    </div>
                    <!--/row-->
                </div>
                <!--/panel-body-->
            </div>
            <!--/panel-->
        </div>
        <!--/col-->
    </div>
    <!--/row-->
</div>
<!--/container-->
{%endblock%}